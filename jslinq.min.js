(function(a,f){a.prototype.where=function(c){var b=this,a=0,f=b.length,e=[];if(c===undefined)return b;for(a;a<f;a++){var d=b[a];c(d)===true&&e.push(d)}return e};a.prototype.select=function(c){var b=this,a=0,f=b.length,d=[];if(c===undefined)return b;for(a;a<f;a++){var e=b[a];d.push(c(e))}return d};a.prototype.take=function(a){var c=this,d=c.length;if(a===undefined)return c;if(b(a)!=="[Number]")throw"count must be a number";return a>d?c:c.slice(0,a)};a.prototype.skip=function(a){var c=this,d=c.length;if(a===undefined)return c;if(b(a)!=="[Number]")throw"count must be a number";return a>d?c.slice(a-d):c.slice(a)};a.prototype.first=a.prototype.single=function(a){var b=this;return!a?b[0]:b.where(a)[0]};a.prototype.count=function(a){var b=this;return a===undefined?this.length:b.where(a).length};a.prototype.any=function(a){var b=this;return a===undefined?this.length>0:b.length<=0?false:b.where(a).length>0};a.prototype.toHash=a.prototype.toDictionary=function(c){var b=this,e=b.length,a=0,d={};if(c&&b[0][c]===undefined)throw"key is only valid for arrays of Object";for(a;a<e;a++)if(!c)d[a]=b[a];else d[b[a][c]]=b[a];return d};a.prototype.orderBy=a.prototype.order=function(f){var a=this,i=a.length,g,h;g=f===undefined?b(a[0]):b(a[0][f]);if(f!==undefined&&g!=="[Object]"&&a[0][f]===undefined)throw"cannot use prop with an Array of primitive types (String, Date, Number, Bool)";return f===undefined?g==="[String]"?a.sort(d):a.sort(c):g==="[String]"?a.sort(e(d,f)):a.sort(e(c,f))};var b,c,d,e;e=function(a,b){return function(c,d){return a(c,d,b)}};b=function(a){return f.prototype.toString.call(a).replace("object ","")};c=function(b,c,a){return a===undefined?b-c:b[a]-c[a]};d=function(d,e,a){var b,c;b=a===undefined?d:d[a];c=a===undefined?e:e[a];return b.localeCompare(c)}})(Array,Object)